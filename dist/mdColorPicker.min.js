/**
 * md-color-picker - Angular-Material inspired color picker.
 * @version v0.2.1
 * @link https://github.com/brianpkelley/md-color-picker
 * @license MIT
 */
!function(t,e,r){!function(t,e,o){"use strict";var n=function(t,r){this.type=t,this.restrictX=r,this.offset={x:null,y:null},this.height=255,this.$scope=null,this.$element=null,this.get=e.bind(this,function(t,r,o){this.$scope=t,this.$element=r,this.canvas=this.$element.children()[0],this.marker=this.$element.children()[1],this.context=this.canvas.getContext("2d"),this.currentColor=this.$scope.color.toRgb(),this.currentHue=this.$scope.color.toHsv().h,this.$element.on("mousedown",e.bind(this,this.onMouseDown)),this.$scope.$on("mdColorPicker:colorSet",e.bind(this,this.onColorSet)),this.extra&&this.extra(),this.draw()})};n.prototype.$window=e.element(t),n.prototype.getColorByMouse=function(t){var e=t.pageX-this.offset.x,r=t.pageY-this.offset.y;return this.getColorByPoint(e,r)},n.prototype.setMarkerCenter=function(t,r){var n=-1*this.marker.offsetWidth/2,a=-1*this.marker.offsetHeight/2;r===o?(r=t+a,r=Math.max(Math.min(this.height+a,r),Math.ceil(a)),t=0):(t+=n,r+=a,t=Math.max(Math.min(this.height+n,t),Math.ceil(n)),r=Math.max(Math.min(this.height+a,r),Math.ceil(a))),e.element(this.marker).css({left:t+"px"}),e.element(this.marker).css({top:r+"px"})},n.prototype.getMarkerCenter=function(){var t={x:this.marker.offsetLeft+Math.floor(this.marker.offsetWidth/2),y:this.marker.offsetTop+Math.floor(this.marker.offsetHeight/2)};return t},n.prototype.getImageData=function(t,e){t=Math.max(0,Math.min(t,this.canvas.width-1)),e=Math.max(0,Math.min(e,this.canvas.height-1));var r=this.context.getImageData(t,e,1,1).data;return r},n.prototype.onMouseDown=function(t){t.preventDefault(),t.stopImmediatePropagation(),this.$scope.previewUnfocus(),this.$element.css({cursor:"none"}),this.offset.x=this.canvas.getBoundingClientRect().left+1,this.offset.y=this.canvas.getBoundingClientRect().top;var r=e.bind(this,function(t){switch(this.type){case"hue":var e=this.getColorByMouse(t);this.$scope.$broadcast("mdColorPicker:spectrumHueChange",{hue:e});break;case"alpha":var r=this.getColorByMouse(t);this.$scope.color.setAlpha(r),this.$scope.alpha=r,this.$scope.$apply();break;case"spectrum":var o=this.getColorByMouse(t);this.setColor(o)}});this.$window.on("mousemove",r),this.$window.one("mouseup",e.bind(this,function(t){this.$window.off("mousemove",r),this.$element.css({cursor:"crosshair"})})),r(t)},n.prototype.setColor=function(t){this.$scope.color._r=t.r,this.$scope.color._g=t.g,this.$scope.color._b=t.b,this.$scope.$apply(),this.$scope.$broadcast("mdColorPicker:spectrumColorChange",{color:t})},n.prototype.onColorSet=function(t,e){switch(this.type){case"hue":var r=this.$scope.color.toHsv();this.setMarkerCenter(this.canvas.height-this.canvas.height*(r.h/360));break;case"alpha":this.currentColor=e.color.toRgb(),this.draw();var o=e.color.getAlpha(),n=this.canvas.height-this.canvas.height*o;this.setMarkerCenter(n);break;case"spectrum":var r=e.color.toHsv();this.currentHue=r.h,this.draw();var a=this.canvas.width*r.s,i=this.canvas.height-this.canvas.height*r.v;this.setMarkerCenter(a,i)}};var a=new n("hue",(!0));a.getColorByPoint=function(t,e){var o=this.getImageData(t,e);this.setMarkerCenter(e);var n=new r({r:o[0],g:o[1],b:o[2]});return n.toHsl().h},a.draw=function(){this.$element.css({height:this.height+"px"}),this.canvas.height=this.height,this.canvas.width=50;var t=this.context.createLinearGradient(90,0,90,this.height);t.addColorStop(.01,"rgba(255, 0, 0, 1.000)"),t.addColorStop(.167,"rgba(255, 0, 255, 1.000)"),t.addColorStop(.333,"rgba(0, 0, 255, 1.000)"),t.addColorStop(.5,"rgba(0, 255, 255, 1.000)"),t.addColorStop(.666,"rgba(0, 255, 0, 1.000)"),t.addColorStop(.828,"rgba(255, 255, 0, 1.000)"),t.addColorStop(.999,"rgba(255, 0, 0, 1.000)"),this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.height)};var i=new n("alpha",(!0));i.getColorByPoint=function(t,e){var r=this.getImageData(t,e);return this.setMarkerCenter(e),r[3]/255},i.draw=function(){this.$element.css({height:this.height+"px"}),this.canvas.height=this.height,this.canvas.width=this.height;var t=this.context.createLinearGradient(90,0,90,this.height);t.addColorStop(.01,"rgba("+this.currentColor.r+","+this.currentColor.g+","+this.currentColor.b+", 1.000)"),t.addColorStop(.999,"rgba("+this.currentColor.r+","+this.currentColor.g+","+this.currentColor.b+", 0.000)"),this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.height)},i.extra=function(){this.$scope.$on("mdColorPicker:spectrumColorChange",e.bind(this,function(t,e){this.currentColor=e.color,this.draw()}))};var l=new n("spectrum",(!1));l.getColorByPoint=function(t,e){var r=this.getImageData(t,e);return this.setMarkerCenter(t,e),{r:r[0],g:r[1],b:r[2]}},l.draw=function(){this.canvas.height=this.height,this.canvas.width=this.height,this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.context.createLinearGradient(0,0,this.canvas.width,0);t.addColorStop(0,"rgba(255, 255, 255, 1.000)"),t.addColorStop(1,"rgba(255, 255, 255, 0.000)");var e=this.context.createLinearGradient(0,0,0,this.canvas.height);e.addColorStop(0,"rgba(0, 0, 0, 0.000)"),e.addColorStop(1,"rgba(0, 0, 0, 1.000)"),this.context.fillStyle="hsl( "+this.currentHue+", 100%, 50%)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)},l.extra=function(){this.$scope.$on("mdColorPicker:spectrumHueChange",e.bind(this,function(t,e){this.currentHue=e.hue,this.draw();var r=this.getMarkerCenter(),o=this.getColorByPoint(r.x,r.y);this.setColor(o)}))},e.module("mdColorPicker",[]).run(["$templateCache",function(t){var e={clear:'<path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>',gradient:'<path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/>',tune:'<path d="M13 21v-2h8v-2h-8v-2h-2v6h2zM3 17v2h6v-2H3z"/><path d="M21 13v-2H11v2h10zM7 9v2H3v2h4v2h2V9H7z"/><path d="M15 9h2V7h4V5h-4V3h-2v6zM3 5v2h10V5H3z"/>',view_module:'<path d="M4 11h5V5H4v6z"/><path d="M4 18h5v-6H4v6z"/><path d="M10 18h5v-6h-5v6z"/><path d="M16 18h5v-6h-5v6z"/><path d="M10 11h5V5h-5v6z"/><path d="M16 5v6h5V5h-5z"/>',view_headline:'<path d="M4 15h17v-2H4v2z"/><path d="M4 19h17v-2H4v2z"/><path d="M4 11h17V9H4v2z"/><path d="M4 5v2h17V5H4z"/>',history:'<path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"/><path d="M12 8v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>',clear_all:'<path d="M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z"/>'};for(var r in e)e.hasOwnProperty(r)&&t.put([r,"svg"].join("."),['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">',e[r],"</svg>"].join(""))}]).factory("mdColorPickerHistory",["$injector",function(t){var e=[],o=[],n=!1;try{n=t.get("$cookies")}catch(a){}if(n)for(var i=n.getObject("mdColorPickerHistory")||[],l=0;l<i.length;l++)e.push(r(i[l])),o.push(i[l]);var c=40;return{length:function(){return arguments[0]?void(c=arguments[0]):e.length},add:function(t){for(var r=0;r<e.length;r++)e[r].toRgbString()===t.toRgbString()&&(e.splice(r,1),o.splice(r,1));e.unshift(t),o.unshift(t.toRgbString()),e.length>c&&(e.pop(),o.pop()),n&&n.putObject("mdColorPickerHistory",o)},get:function(){return e},reset:function(){e=[],o=[],n&&n.putObject("mdColorPickerHistory",o)}}}]).directive("mdColorPicker",["$timeout","mdColorPickerHistory",function(t,e){return{templateUrl:"mdColorPicker.tpl.html",require:"^ngModel",scope:{type:"@",label:"@",icon:"@","default":"@",random:"@",openOnInput:"@",hasBackdrop:"@",clickOutsideToClose:"@",multiple:"@",preserveScope:"@"},controller:["$scope","$element","$mdDialog","$mdColorPicker",function(t,e,r,o){var n=!1,a=e.controller("ngModel"),i=function(e){t.value=e||a.$viewValue||""};i(),t.$watch(function(){return a.$modelValue},function(t){i(t)}),t.$watch("value",function(t,e){""!==t&&"undefined"!=typeof t&&t&&t!==e&&a.$setViewValue(t)}),t.clearValue=function(){t.value=""},t.showColorPicker=function(e){n||o.show({value:t.value,defaultValue:t["default"],random:t.random,clickOutsideToClose:t.clickOutsideToClose,hasBackdrop:t.hasBackdrop,preserveScope:t.preserveScope,multiple:t.multiple}).then(function(e){t.value=e})}}],compile:function(t,e){e.type=e.type!==o?e.type:0}}}]).directive("mdColorPickerDialog",["$compile","$timeout","mdColorPickerHistory",function(t,o,n){return{templateUrl:"mdColorPickerDialog.tpl.html",scope:{value:"=?","default":"@",random:"@",ok:"=?"},controller:["$scope","$element","$attrs",function(a,i,l){var c=e.element(i[0].querySelector(".md-color-picker-container")),s=(e.element(c[0].querySelector(".md-color-picker-result")),e.element(i[0].querySelector(".md-color-picker-preview-input"))),d=!1,F=["toHexString","toRgbString","toHslString"];a["default"]=a["default"]?a["default"]:a.random?r.random():"rgb(127, 64, 64)",a.value.search("#")>=0?a.type=0:a.value.search("rgb")>=0?a.type=1:a.value.search("hsl")>=0&&(a.type=2),a.color=new r(a.value||a["default"]),a.alpha=a.color.getAlpha(),a.history=n,a.materialFamily=[],a.whichPane=0,a.inputFocus=!1;var h=9,u=(2*Math.PI/h,[r("rgb(255, 0, 0)"),r("rgb(255, 128, 0)"),r("rgb(255, 255, 0)"),r("rgb(0, 255, 0)"),r("rgb(0, 255, 128)"),r("rgb(0, 255, 255)"),r("rgb(0, 128, 255)"),r("rgb(0, 0, 255)"),r("rgb(128, 0, 255)"),r("rgb(255, 0, 255)")]),p=["rgb(255, 255, 255)","rgb(205, 205, 205)","rgb(178, 178, 178)","rgb(153, 153, 153)","rgb(127, 127, 127)","rgb(102, 102, 102)","rgb(76, 76, 76)","rgb(51, 51, 51)","rgb(25, 25, 25)","rgb(0, 0, 0)"];a.palette=[];var m,v,g=[];for(m=-4;m<=4;m++){for(g=[],v=0;v<u.length;v++){var C=new r(u[v].toRgb());m<0&&g.push(C.lighten(Math.abs(10*m)).toRgbString()),0===m&&g.push(u[v].toRgbString()),m>0&&g.push(C.darken(m*(m/5)*10).toRgbString())}a.palette.push(g)}a.palette.push(p),a.material={colors:[{Red:["#F44336","#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C","#FF8A80","#FF5252","#FF1744","#D50000"],Pink:["#E91E63","#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457","#880E4F","#FF80AB","#FF4081","#F50057","#C51162"],Purple:["#9C27B0","#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C","#EA80FC","#E040FB","#D500F9","#AA00FF"],"Deep Purple":["#673AB7","#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0","#311B92","#B388FF","#7C4DFF","#651FFF","#6200EA"],Indigo:["#3F51B5","#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E","#8C9EFF","#536DFE","#3D5AFE","#304FFE"],Blue:["#2196F3","#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0","#0D47A1","#82B1FF","#448AFF","#2979FF","#2962FF"],"Light Blue":["#03A9F4","#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B","#80D8FF","#40C4FF","#00B0FF","#0091EA"],Cyan:["#00BCD4","#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F","#006064","#84FFFF","#18FFFF","#00E5FF","#00B8D4"]},{Teal:["#009688","#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40","#A7FFEB","#64FFDA","#1DE9B6","#00BFA5"],Green:["#4CAF50","#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853"],"Light Green":["#8BC34A","#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17"],Lime:["#CDDC39","#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00"],Yellow:["#FFEB3B","#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600"],Amber:["#FFC107","#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00"],Orange:["#FF9800","#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00"],"Deep Orange":["#FF5722","#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00"]}],colors2:{Red:["#F44336","#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C","#FF8A80","#FF5252","#FF1744","#D50000"],Pink:["#E91E63","#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457","#880E4F","#FF80AB","#FF4081","#F50057","#C51162"],Purple:["#9C27B0","#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C","#EA80FC","#E040FB","#D500F9","#AA00FF"],"Deep Purple":["#673AB7","#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0","#311B92","#B388FF","#7C4DFF","#651FFF","#6200EA"],Indigo:["#3F51B5","#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E","#8C9EFF","#536DFE","#3D5AFE","#304FFE"],Blue:["#2196F3","#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0","#0D47A1","#82B1FF","#448AFF","#2979FF","#2962FF"],"Light Blue":["#03A9F4","#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B","#80D8FF","#40C4FF","#00B0FF","#0091EA"],Cyan:["#00BCD4","#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F","#006064","#84FFFF","#18FFFF","#00E5FF","#00B8D4"],Teal:["#009688","#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40","#A7FFEB","#64FFDA","#1DE9B6","#00BFA5"],Green:["#4CAF50","#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853"],"Light Green":["#8BC34A","#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17"],Lime:["#CDDC39","#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00"],Yellow:["#FFEB3B","#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600"],Amber:["#FFC107","#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00"],Orange:["#FF9800","#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00"],"Deep Orange":["#FF5722","#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00"]},greys:{Brown:["#795548","#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723"],Grey:["#9E9E9E","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121"],"Blue Grey":["#607D8B","#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238"]},Black:["#000000"],White:["#FFFFFF"],labels:["","50","100","200","300","400","500","600","700","800","900","A100","A200","A300","A400"]},a.isDark=function(t){return r(t).isDark()},a.previewFocus=function(){a.inputFocus=!0,o(function(){s[0].setSelectionRange(0,s[0].value.length)})},a.previewUnfocus=function(){a.inputFocus=!1,s[0].blur()},a.previewBlur=function(){a.inputFocus=!1,a.setValue()},a.previewKeyDown=function(t){13==t.keyCode&&a.ok&&a.ok()},a.setPaletteColor=function(t){a.color=r(t.currentTarget.style.background)},a.setMaterialColor=function(n,i){d&&d.remove(),a.materialFamily=[];var l=e.element(n.currentTarget);d=t(['<div class="md-color-picker-material-colors" layout="column" >','<div ng-repeat="shade in materialFamily track by $index" ng-style="{\'background\': shade };" style="height: '+100/(i.length-1)+'%; width: 100%"  ng-click="setPaletteColor($event)" class="md-color-picker-with-label">{{material.labels[$index]}}</div>',"</div>"].join("\n"))(a);var c=l.parent().parent();d.css({background:l[0].style.background,top:l[0].offsetTop+"px",left:l[0].offsetLeft+"px",right:Math.max(0,c[0].offsetWidth-(l[0].offsetLeft+l[0].offsetWidth))+"px",bottom:Math.max(0,c[0].offsetHeight-(l[0].offsetTop+l[0].offsetHeight))+"px"}),a.color=r(n.currentTarget.style.background);var s=e.copy(i);s.splice(0,1),c.append(d),a.materialFamily=s,o(function(){d.css({top:0,bottom:"7px",right:"8px",left:"8px"})})},a.setValue=function(){a.color&&a.color&&F[a.type]&&"rgba(0, 0, 0, 0)"!==a.color.toRgbString()&&(a.value=a.color[F[a.type]]())},a.changeValue=function(){a.color=r(a.value),a.$broadcast("mdColorPicker:colorSet",{color:a.color})},a.$watch("alpha",function(t){a.color.setAlpha(t)}),a.$watch("whichPane",function(t){a.$broadcast("mdColorPicker:colorSet",{color:a.color}),d&&d.remove()}),a.$watch("type",function(){s.removeClass("switch"),o(function(){s.addClass("switch")})}),a.$watchGroup(["color.toRgbString()","type"],function(t){a.inputFocus||a.setValue()}),o(function(){a.$broadcast("mdColorPicker:colorSet",{color:a.color}),s.focus(),a.previewFocus()})}]}}]).directive("mdColorPickerHue",[function(){return{template:'<canvas width="100%" height="100%"></canvas><div class="md-color-picker-marker"></div>',link:a.get}}]).directive("mdColorPickerAlpha",[function(){return{template:'<canvas width="100%" height="100%"></canvas><div class="md-color-picker-marker"></div>',link:i.get}}]).directive("mdColorPickerSpectrum",[function(){return{template:'<canvas width="100%" height="100%"></canvas><div class="md-color-picker-marker"></div>{{hue}}',link:l.get}}]).factory("$mdColorPicker",["$q","$mdDialog","mdColorPickerHistory",function(t,e,n){return{show:function(t){t===o&&(t={}),t.hasBackdrop===o&&(t.hasBackdrop=!0),t.clickOutsideToClose===o&&(t.clickOutsideToClose=!1),t.defaultValue===o&&(t.defaultValue="#FFFFFF"),t.focusOnOpen===o&&(t.focusOnOpen=!1),t.preserveScope===o&&(t.preserveScope=!1),t.multiple===o&&(t.multiple=!1);var a=e.show({template:'<md-dialog class="md-color-picker-dialog">\t<div md-color-picker-dialog value="value" default="{{defaultValue}}" random="{{random}}" ok="ok"></div>\t<md-actions layout="row">\t\t<md-button class="md-mini" flex ng-click="close()">Cancel</md-button>\t\t<md-button class="md-mini" flex ng-click="ok()">Select</md-button>\t</md-actions></md-dialog>',hasBackdrop:t.hasBackdrop,clickOutsideToClose:t.clickOutsideToClose,preserveScope:t.preserveScope,multiple:t.multiple,controller:["$scope","value","defaultValue","random",function(t,r,o,n){t.close=function(){e.cancel()},t.ok=function(){e.hide(t.value)},t.value=r,t["default"]=o,t.random=n,t.hide=t.ok}],locals:{value:t.value,defaultValue:t["default"],random:t.random},targetEvent:t.$event,focusOnOpen:t.focusOnOpen});return a.then(function(t){n.add(new r(t))},function(){}),a}}}])}(e,e.angular),t.module("mdColorPicker").run(["$templateCache",function(t){t.put("mdColorPicker.tpl.html",'<div class="md-color-picker-input-container" layout="row">\r\n\t<div class="md-color-picker-preview md-color-picker-checkered-bg" ng-click="showColorPicker()">\r\n\t\t<div class="md-color-picker-result" ng-style="{background: value}"></div>\r\n\t</div>\r\n\t<md-input-container flex>\r\n\t\t<label><md-icon ng-if="icon">{{icon}}</md-icon>{{label}}</label>\r\n\t\t<input type="input" ng-model="value" class=\'md-color-picker-input\'  ng-mousedown="openOnInput && showColorPicker($mdOpenMenu, $event)"/>\r\n\t</md-input-container>\r\n\t<md-button class="md-icon-button md-color-picker-clear" ng-if="value" ng-click="clearValue();" aria-label="Clear Color">\r\n\t\t<md-icon md-svg-icon="clear.svg"></md-icon>\r\n\t</md-button>\r\n</div>\r\n'),t.put("mdColorPickerDialog.tpl.html",'<div class="md-color-picker-container in" layout="column">\r\n\t<div class="md-color-picker-arrow" ng-style="{\'border-bottom-color\': color.toRgbString() }"></div>\r\n\r\n\t<div class="md-color-picker-preview md-color-picker-checkered-bg" ng-class="{\'dark\': !color.isDark() || color.getAlpha() < .45}" flex="1" layout="column">\r\n\r\n\t\t<div class="md-color-picker-result" ng-style="{\'background\': color.toRgbString()}" flex="100" layout="column" layout-fill layout-align="center center" ng-click="focusPreviewInput( $event )">\r\n\t\t\t<!--<span flex  layout="column" layout-align="center center">{{value}}</span>-->\r\n\t\t\t<div flex  layout="row" layout-align="center center">\r\n\t\t\t\t<input class="md-color-picker-preview-input" type="text" ng-model="value" ng-focus="previewFocus($event);" ng-blur="previewBlur()" ng-change="changeValue()" ng-keypress="previewKeyDown($event)" layout-fill />\r\n\t\t\t</div>\r\n\t\t\t<div class="md-color-picker-tabs" style="width: 100%">\r\n\t\t\t\t<md-tabs md-selected="type" md-stretch-tabs="always" md-no-bar md-no-ink md-no-pagination="true" >\r\n\t\t\t\t\t<md-tab label="Hex" ng-disabled="color.getAlpha() !== 1" md-ink-ripple="#ffffff"></md-tab>\r\n\t\t\t\t\t<md-tab label="RGB"></md-tab>\r\n\t\t\t\t\t<md-tab label="HSL"></md-tab>\r\n\t\t\t\t\t<!--<md-tab label="HSV"></md-tab>\r\n\t\t\t\t\t<md-tab label="VEC"></md-tab>-->\r\n\t\t\t\t</md-tabs>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="md-color-picker-tabs md-color-picker-colors">\r\n\t\t<md-tabs md-stretch-tabs="always" md-align-tabs="bottom"  md-selected="whichPane" md-no-pagination>\r\n\t\t\t<md-tab>\r\n\t\t\t\t<md-tab-label>\r\n\t\t\t\t\t<md-icon md-svg-icon="gradient.svg"></md-icon>\r\n\t\t\t\t</md-tab-label>\r\n\t\t\t\t<md-tab-body>\r\n\t\t\t\t\t<div layout="row" layout-align="space-between" style="height: 255px">\r\n\t\t\t\t\t\t<div md-color-picker-spectrum></div>\r\n\t\t\t\t\t\t<div md-color-picker-hue></div>\r\n\t\t\t\t\t\t<div md-color-picker-alpha class="md-color-picker-checkered-bg"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</md-tab-body>\r\n\t\t\t</md-tab>\r\n\t\t\t<md-tab>\r\n\t\t\t\t<md-tab-label>\r\n\t\t\t\t\t<md-icon md-svg-icon="tune.svg"></md-icon>\r\n\t\t\t\t</md-tab-label>\r\n\t\t\t\t<md-tab-body>\r\n\t\t\t\t\t<div layout="column" flex="100" layout-fill layout-align="space-between start center" class="md-color-picker-sliders">\r\n\t\t\t\t\t\t<div layout="row" layout-align="start center" layout-wrap flex layout-fill>\r\n\t\t\t\t\t\t\t<div flex="10" layout layout-align="center center">\r\n\t\t\t\t\t\t\t\t<span class="md-body-1">R</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<md-slider flex="65" min="0" max="255" ng-model="color._r" aria-label="red" class="red-slider"></md-slider>\r\n\t\t\t\t\t\t\t<span flex></span>\r\n\t\t\t\t\t\t\t<div flex="20" layout layout-align="center center">\r\n\t\t\t\t\t\t\t\t<input style="width: 100%;" min="0" max="255" type="number" ng-model="color._r" aria-label="red" aria-controls="red-slider">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div layout="row" layout-align="start center" layout-wrap flex layout-fill>\r\n\t\t\t\t\t\t\t<div flex="10" layout layout-align="center center">\r\n\t\t\t\t\t\t\t\t<span class="md-body-1">G</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<md-slider flex="65" min="0" max="255" ng-model="color._g" aria-label="green" class="green-slider"></md-slider>\r\n\t\t\t\t\t\t\t<span flex></span>\r\n\t\t\t\t\t\t\t<div flex="20" layout layout-align="center center">\r\n\t\t\t\t\t\t\t\t<input style="width: 100%;" min="0" max="255" type="number" ng-model="color._g" aria-label="green" aria-controls="green-slider">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div layout="row" layout-align="start center" layout-wrap flex layout-fill>\r\n\t\t\t\t\t\t\t<div flex="10" layout layout-align="center center">\r\n\t\t\t\t\t\t\t\t<span class="md-body-1">B</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<md-slider flex="65" min="0" max="255" ng-model="color._b" aria-label="blue" class="blue-slider"></md-slider>\r\n\t\t\t\t\t\t\t<span flex></span>\r\n\t\t\t\t\t\t\t<div flex="20" layout layout-align="center center" >\r\n\t\t\t\t\t\t\t\t<input style="width: 100%;" min="0" max="255" type="number" ng-model="color._b" aria-label="blue" aria-controls="blue-slider">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div layout="row" layout-align="start center" layout-wrap flex layout-fill>\r\n\t\t\t\t\t\t\t<div flex="10" layout layout-align="center center">\r\n\t\t\t\t\t\t\t\t<span class="md-body-1">A</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<md-slider flex="65" min="0" max="1" step=".01" ng-model="alpha" aria-label="alpha" class="md-primary"></md-slider>\r\n\t\t\t\t\t\t\t<span flex></span>\r\n\t\t\t\t\t\t\t<div flex="20" layout layout-align="center center" >\r\n\t\t\t\t\t\t\t\t<input style="width: 100%;" min="0" max="1" step=".01" type="number" ng-model="alpha" aria-label="alpha" aria-controls="blue-slider">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</md-tab-body>\r\n\t\t\t</md-tab>\r\n\t\t\t<md-tab>\r\n\t\t\t\t<md-tab-label>\r\n\t\t\t\t\t<md-icon md-svg-icon="view_module.svg"></md-icon>\r\n\t\t\t\t</md-tab-label>\r\n\t\t\t\t<md-tab-body>\r\n\t\t\t\t\t<div layout="column" layout-align="space-between start center" flex>\r\n\t\t\t\t\t\t<div ng-repeat="row in palette track by $index" flex="15"  layout-align="space-between" layout="row"  layout-fill>\r\n\t\t\t\t\t\t\t<div ng-repeat="col in row track by $index" flex="10" style="height: 25.5px;" ng-style="{\'background\': col};" ng-click="setPaletteColor($event)"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</md-tab-body>\r\n\t\t\t</md-tab>\r\n\t\t\t<md-tab>\r\n\t\t\t\t<md-tab-label>\r\n\t\t\t\t\t<md-icon md-svg-icon="view_headline.svg"></md-icon>\r\n\t\t\t\t</md-tab-label>\r\n\t\t\t\t<md-tab-body>\r\n\t\t\t\t\t<div layout="column" layout-fill flex class="md-color-picker-material">\r\n\t\t\t\t\t\t<div ng-repeat="(key, value) in material.colors2">\r\n\t\t\t\t\t\t\t<div ng-repeat="row in value track by $index" ng-style="{\'background\': row, height: $index ? \'33px\':\'75px\'}" ng-class="{\'md-color-picker-with-label\': $index !== 0, \'md-color-picker-material-title\': $index === 0, \'dark\': isDark( row )}" ng-click="setPaletteColor($event)">\r\n\t\t\t\t\t\t\t\t<span ng-if="$index === 0">{{key}}</span>\r\n\t\t\t\t\t\t\t\t<span ng-if="$index !== 0">{{material.labels[$index]}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<script>\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t<div layout="row" layout-align="space-between start center"  layout-fill layout-wrap flex class="md-color-picker-material">\r\n\t\t\t\t\t\t<!--<div flex="25"  layout-align="space-between" layout="row"  layout-fill>\r\n\t\t\t\t\t\t\t<div ng-repeat="col in row track by $index" flex="10" style="height: 25.5px;" ng-style="{\'background\': col};" ng-click="setPaletteColor($event)"></div>-->\r\n\t\t\t\t\t\t\t<div ng-repeat="col in material.colors track by $index" layout-column flex="33">\r\n\t\t\t\t\t\t\t\t<div ng-repeat="(name, row) in col track by $index" layout-row style="height: 31px;" ng-style="{\'background\': row[0]};" ng-click="setMaterialColor($event, row)" class="md-color-picker-with-label">{{name}}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div layout-column flex="33">\r\n\t\t\t\t\t\t\t\t<div ng-repeat="(name, row) in material.greys track by $index" layout-row style="height: 31px;" ng-style="{\'background\': row[0]};" ng-click="setMaterialColor($event, row)" class="md-color-picker-with-label">{{name}}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!--</div>-->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t*/</script>\r\n\t\t\t\t</md-tab-body>\r\n\t\t\t</md-tab>\r\n\t\t\t<md-tab>\r\n\t\t\t\t<md-tab-label>\r\n\t\t\t\t\t<md-icon md-svg-icon="history.svg"></md-icon>\r\n\t\t\t\t</md-tab-label>\r\n\t\t\t\t<md-tab-body layout="row" layout-fill>\r\n\t\t\t\t\t<div layout="column" flex layout-align="space-between start" layout-wrap layout-fill class="md-color-picker-history">\r\n\t\t\t\t\t\t<div layout="row" flex="80" layout-align="space-between start start" layout-wrap  layout-fill>\r\n\t\t\t\t\t\t\t<div flex="10" ng-repeat="historyColor in history.get() track by $index">\r\n\t\t\t\t\t\t\t\t<div  ng-style="{\'background\': historyColor.toRgbString()}" ng-click="setPaletteColor($event)"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t<md-button flex-end ng-click="history.reset()" class="md-mini" aria-label="Clear History">\r\n\t\t\t\t\t\t\t<md-icon md-svg-icon="clear_all.svg"></md-icon>\r\n\t\t\t\t\t\t</md-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</md-tab-body>\r\n\t\t\t</md-tab>\r\n\t\t</md-tabs>\r\n\t</div>\r\n\r\n</div>\r\n')}])}(angular,window,tinycolor);